(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(540)}])},8872:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return v}});let n=i(8754),r=i(1757),s=r._(i(7294)),o=i(3935),l=n._(i(2636)),a=i(5471),u=i(3735),c=i(3341);i(4210);let d=i(9955),f=n._(i(7746)),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function m(e,t,i,n,r,s){let o=null==e?void 0:e.src;if(!e||e["data-loaded-src"]===o)return;e["data-loaded-src"]=o;let l="decode"in e?e.decode():Promise.resolve();l.catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&r(!0),null==i?void 0:i.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,r=!1;i.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>r,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{r=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}})}function p(e){let[t,i]=s.version.split("."),n=parseInt(t,10),r=parseInt(i,10);return n>18||18===n&&r>=3?{fetchPriority:e}:{fetchpriority:e}}let g=(0,s.forwardRef)((e,t)=>{let{src:i,srcSet:n,sizes:r,height:o,width:l,decoding:a,className:u,style:c,fetchPriority:d,placeholder:f,loading:h,unoptimized:g,fill:b,onLoadRef:v,onLoadingCompleteRef:w,setBlurComplete:x,setShowAltText:y,onLoad:_,onError:C,...E}=e;return s.default.createElement("img",{...E,...p(d),loading:h,width:l,height:o,decoding:a,"data-nimg":b?"fill":"1",className:u,style:c,sizes:r,srcSet:n,src:i,ref:(0,s.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(C&&(e.src=e.src),e.complete&&m(e,f,v,w,x,g))},[i,f,v,w,x,C,g,t]),onLoad:e=>{let t=e.currentTarget;m(t,f,v,w,x,g)},onError:e=>{y(!0),"empty"!==f&&x(!0),C&&C(e)}})});function b(e){let{isAppRouter:t,imgAttributes:i}=e,n={as:"image",imageSrcSet:i.srcSet,imageSizes:i.sizes,crossOrigin:i.crossOrigin,referrerPolicy:i.referrerPolicy,...p(i.fetchPriority)};return t&&o.preload?((0,o.preload)(i.src,n),null):s.default.createElement(l.default,null,s.default.createElement("link",{key:"__nimg-"+i.src+i.srcSet+i.sizes,rel:"preload",href:i.srcSet?void 0:i.src,...n}))}let v=(0,s.forwardRef)((e,t)=>{let i=(0,s.useContext)(d.RouterContext),n=(0,s.useContext)(c.ImageConfigContext),r=(0,s.useMemo)(()=>{let e=h||n||u.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),i=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:i}},[n]),{onLoad:o,onLoadingComplete:l}=e,m=(0,s.useRef)(o);(0,s.useEffect)(()=>{m.current=o},[o]);let p=(0,s.useRef)(l);(0,s.useEffect)(()=>{p.current=l},[l]);let[v,w]=(0,s.useState)(!1),[x,y]=(0,s.useState)(!1),{props:_,meta:C}=(0,a.getImgProps)(e,{defaultLoader:f.default,imgConf:r,blurComplete:v,showAltText:x});return s.default.createElement(s.default.Fragment,null,s.default.createElement(g,{..._,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:m,onLoadingCompleteRef:p,setBlurComplete:w,setShowAltText:y,ref:t}),C.priority?s.default.createElement(b,{isAppRouter:!i,imgAttributes:_}):null)});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5471:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return l}}),i(4210);let n=i(7757),r=i(3735);function s(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l(e,t){var i;let l,a,u,{src:c,sizes:d,unoptimized:f=!1,priority:h=!1,loading:m,className:p,quality:g,width:b,height:v,fill:w=!1,style:x,onLoad:y,onLoadingComplete:_,placeholder:C="empty",blurDataURL:E,fetchPriority:S,layout:j,objectFit:M,objectPosition:P,lazyBoundary:z,lazyRoot:k,...O}=e,{imgConf:I,showAltText:R,blurComplete:N,defaultLoader:L}=t,F=I||r.imageConfigDefault;if("allSizes"in F)l=F;else{let e=[...F.deviceSizes,...F.imageSizes].sort((e,t)=>e-t),t=F.deviceSizes.sort((e,t)=>e-t);l={...F,allSizes:e,deviceSizes:t}}let T=O.loader||L;delete O.loader,delete O.srcSet;let A="__next_img_default"in T;if(A){if("custom"===l.loader)throw Error('Image with src "'+c+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=T;T=t=>{let{config:i,...n}=t;return e(n)}}if(j){"fill"===j&&(w=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[j];e&&(x={...x,...e});let t={responsive:"100vw",fill:"100vw"}[j];t&&!d&&(d=t)}let D="",B=o(b),G=o(v);if("object"==typeof(i=c)&&(s(i)||void 0!==i.src)){let e=s(c)?c.default:c;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(a=e.blurWidth,u=e.blurHeight,E=E||e.blurDataURL,D=e.src,!w){if(B||G){if(B&&!G){let t=B/e.width;G=Math.round(e.height*t)}else if(!B&&G){let t=G/e.height;B=Math.round(e.width*t)}}else B=e.width,G=e.height}}let W=!h&&("lazy"===m||void 0===m);(!(c="string"==typeof c?c:D)||c.startsWith("data:")||c.startsWith("blob:"))&&(f=!0,W=!1),l.unoptimized&&(f=!0),A&&c.endsWith(".svg")&&!l.dangerouslyAllowSVG&&(f=!0),h&&(S="high");let X=o(g),q=Object.assign(w?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:M,objectPosition:P}:{},R?{}:{color:"transparent"},x),U=N||"empty"===C?null:"blur"===C?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:B,heightInt:G,blurWidth:a,blurHeight:u,blurDataURL:E||"",objectFit:q.objectFit})+'")':'url("'+C+'")',Y=U?{backgroundSize:q.objectFit||"cover",backgroundPosition:q.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:U}:{},J=function(e){let{config:t,src:i,unoptimized:n,width:r,quality:s,sizes:o,loader:l}=e;if(n)return{src:i,srcSet:void 0,sizes:void 0};let{widths:a,kind:u}=function(e,t,i){let{deviceSizes:n,allSizes:r}=e;if(i){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(i);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:r.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:r,kind:"w"}}if("number"!=typeof t)return{widths:n,kind:"w"};let s=[...new Set([t,2*t].map(e=>r.find(t=>t>=e)||r[r.length-1]))];return{widths:s,kind:"x"}}(t,r,o),c=a.length-1;return{sizes:o||"w"!==u?o:"100vw",srcSet:a.map((e,n)=>l({config:t,src:i,quality:s,width:e})+" "+("w"===u?e:n+1)+u).join(", "),src:l({config:t,src:i,quality:s,width:a[c]})}}({config:l,src:c,unoptimized:f,width:B,quality:X,sizes:d,loader:T}),K={...O,loading:W?"lazy":m,fetchPriority:S,width:B,height:G,decoding:"async",className:p,style:{...q,...Y},sizes:J.sizes,srcSet:J.srcSet,src:J.src},V={unoptimized:f,priority:h,placeholder:C,fill:w};return{props:K,meta:V}}},7757:function(e,t){"use strict";function i(e){let{widthInt:t,heightInt:i,blurWidth:n,blurHeight:r,blurDataURL:s,objectFit:o}=e,l=n?40*n:t,a=r?40*r:i,u=l&&a?"viewBox='0 0 "+l+" "+a+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(u?"none":"contain"===o?"xMidYMid":"cover"===o?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+s+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},2555:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return u},unstable_getImgProps:function(){return a}});let n=i(8754),r=i(5471),s=i(4210),o=i(8872),l=n._(i(7746)),a=e=>{(0,s.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,r.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}},u=o.Image},7746:function(e,t){"use strict";function i(e){let{config:t,src:i,width:n,quality:r}=e;return t.path+"?url="+encodeURIComponent(i)+"&w="+n+"&q="+(r||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),i.__next_img_default=!0;let n=i},540:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var n=i(5893);i(9008),i(5675);var r=i(7294),s=i(1185),o=i.n(s),l=i(6100);i(3349);var a=i(5759),u=i(33);function c(e){let{x:t,y:i,points:s}=e,[o,l]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(e)},[]),o?(0,n.jsxs)("div",{style:{position:"absolute",top:"".concat(i,"px"),left:"".concat(t,"px"),backgroundColor:"black",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"14px",zIndex:9999},children:["+",s," XP"]}):null}var d=function(){let{user:e,username:t}=(0,r.useContext)(a.S),i=(0,r.useRef)(null),s=(0,r.useRef)([]),[d,f]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),p=(0,r.useRef)(null),[g,b]=(0,r.useState)([]);async function v(t){if(e){let i=(0,l.JU)(u.db,"users",e.uid),n=await (0,l.QT)(i);if(n.exists()){let e=n.data(),r=e.experiencePoints||0;r+=t,await (0,l.r7)(i,{experiencePoints:r})}else console.error("User document does not exist.")}}function w(){m(!0)}return(0,r.useEffect)(()=>{let e=i.current;e.getContext("2d");let t=16/9;function n(){let i=window.innerWidth,n=Math.min(i,1e3),r=n/t;e.width=n,e.height=r}return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),(0,r.useEffect)(()=>{let e=i.current,t=e.getContext("2d");!function i(){t.clearRect(0,0,e.width,e.height),s.current.forEach(e=>{e.move(),e.animateOrbit()}),requestAnimationFrame(i)}()},[]),(0,r.useEffect)(()=>{let e=i.current,t=e.getContext("2d");p.current=new Audio("/_next/static/sounds/pop.mp3");class n{move(){this.x+=this.dx,this.y+=this.dy,(this.x+this.radius>=e.width||this.x-this.radius<=0)&&(this.dx*=-1),(this.y+this.radius>=e.height||this.y-this.radius<=0)&&(this.dy*=-1),this.draw()}animateOrbit(){this.minis.forEach(e=>{e.move()})}draw(){let e=i.current;null!=e&&e.getContext("2d"),t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath(),t.font="15px Arial",t.fillStyle="black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.label,this.x,this.y)}addMiniCircle(e){this.minis.length;let t=new r(this.x+1*this.distanceFromCenter,this.y+0*this.distanceFromCenter,20,"red",1,1,e,"black",this,100);this.minis.push(t),this.adjustMinis()}adjustMinis(){let e=this.minis.length-1,t=2*Math.PI/(e+1),i=0;this.minis.forEach(e=>{e.angle=i,e.move(),i+=t})}constructor(e,t,i,n,r=2,s=2,o="",l="white"){this.x=e,this.y=t,this.radius=i,this.color=n,this.dx=r>=.5?-1:1,this.dy=s>=.5?-1:1,this.label=o,this.minis=[],this.onClick=null,this.onContextMenu=null}}class r extends n{move(){this.angle+=.02,this.x=this.parent.x+this.distanceFromCenter*Math.cos(this.angle),this.y=this.parent.y+this.distanceFromCenter*Math.sin(this.angle),this.draw()}constructor(e,t,i,n,r=2,s=2,o,l="black",a=null,u=50){super(e,t,i,n,r,s),this.distanceFromCenter=u,this.angle=0,this.parent=a||null,this.label=o}}function o(e){if(!e.shiftKey)return;e.preventDefault();let t=i.current,n=t.getBoundingClientRect(),r=e.clientX-n.left,o=e.clientY-n.top;for(let e of s.current){let t=Math.sqrt(Math.pow(r-e.x,2)+Math.pow(o-e.y,2));if(t<=e.radius){e.addMiniCircle&&(e.addMiniCircle(d),f(""));break}}}return h&&(function(){let e=new n(200*Math.random()+400,200*Math.random()+150,50,"blue",Math.random(),Math.random(),d);e.onClick=()=>{s.current=s.current.filter(t=>t!==e),p.current.play(),v(10)},s.current.push(e),f("")}(),m(!1)),document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[h,d]),(0,n.jsxs)("div",{className:o().todo,children:[(0,n.jsxs)("div",{className:"canvas-container",children:[(0,n.jsx)("canvas",{ref:i,width:1200,height:600,onClick:function(e){if(!e.shiftKey){let t=i.current,n=t.getBoundingClientRect(),r=e.clientX-n.left,o=e.clientY-n.top;for(let t of s.current)for(let i of t.minis){let n=Math.sqrt(Math.pow(r-i.x,2)+Math.pow(o-i.y,2));if(n<=i.radius){p.current.play(),i.x,i.y,b(t=>[...t,{x:e.clientX,y:e.clientY,points:5}]),t.minis=t.minis.filter(e=>e!==i),t.adjustMinis(),v(5);return}}for(let t of s.current){let i=Math.sqrt(Math.pow(r-t.x,2)+Math.pow(o-t.y,2));if(i<=t.radius){t.onClick&&0==t.minis.length&&(t.onClick(),b(t=>[...t,{x:e.clientX,y:e.clientY,points:10}]));break}}}}}),g.map((e,t)=>(0,n.jsx)(c,{x:e.x,y:e.y,points:e.points},t))]}),(0,n.jsxs)("div",{className:o().container,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:o().label,htmlFor:"labelInput",children:"Label:"}),(0,n.jsx)("input",{type:"text",id:"labelInput",value:d,onChange:e=>f(e.target.value),onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),w())},placeholder:"Enter label"})]}),(0,n.jsx)("button",{className:o().button,onClick:w,children:"Create New Task!"})]})]})};function f(){return(0,n.jsx)("main",{children:(0,n.jsx)(d,{})})}},1185:function(e){e.exports={todo:"TodoList_todo__73SFE",container:"TodoList_container__lHQao",label:"TodoList_label__sIbOC",button:"TodoList_button__vL_Ed"}},9008:function(e,t,i){i(2636)},5675:function(e,t,i){i(2555)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);